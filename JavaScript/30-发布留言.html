<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>发布留言</title>
    <style>
      .editcomment {
        width: 800px;
        margin: 100px auto;
      }

      .editcomment .pinlunt {
        position: relative;
      }

      .editcomment .pinlunt textarea {
        display: block;
        width: 100%;
        height: 60px;
        padding: 10px 60px 10px 20px;
        background: #f4f4f4;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        border-radius: 4px;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        overflow: hidden;
        resize: none;
        outline: none;
      }

      .editcomment .pinlunt span {
        position: absolute;
        bottom: 15px;
        right: 20px;
        font-size: 12px;
        color: #999;
      }

      .expression-box {
        height: 38px;
        margin-top: 15px;
        color: #666;
      }

      .expression-box button {
        float: right;
        height: 36px;
        padding: 0 20px;
        border: 1px solid #eee;
        border-radius: 4px;
        background: #eee;
        box-sizing: border-box;
        font-size: 14px;
        color: #bbb;
        line-height: 36px;
        cursor: default;
        outline: none;
      }

      .expression-box .btn-default {
        color: #444;
        background: #ffe300;
        border: 1px solid #ffe300;
        border-radius: 4px;
        cursor: pointer;
      }

      .commentcon {
        width: 100%;
        margin: 0;
        padding: 0;
      }

      .commentcon li {
        padding: 20px 0;
        border-bottom: 1px solid #f1f1f1;
        line-height: 24px;
        font-size: 14px;
        word-break: break-word;
        list-style-type: none;
      }

      .commentcon li a {
        float: right;
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <div class="editcomment">
      <div class="pinlunt">
        <textarea placeholder="说点什么..."></textarea>
        <span>2000</span>
      </div>
      <div class="expression-box">
        <button disabled="disabled">评论</button>
      </div>
      <ul class="commentcon"></ul>
    </div>
    <script>
      var btn = document
        .querySelector(".expression-box")
        .querySelector("button");
      var text = document.querySelector(".pinlunt").querySelector("textarea");
      var ul = document.querySelector("ul");
      text.addEventListener("keyup", function () {
        if (!text.value == "") {
          btn.removeAttribute("disabled");
          btn.className = "btn-default";
        } else {
          btn.disabled = true;
          btn.removeAttribute("class");
        }
      });
      btn.onclick = function () {
        var li = document.createElement("li");
        li.innerHTML = text.value + "<a href='javaScript:;'>删除</a>";
        //ul.appendChild(li);
        ul.insertBefore(li, ul.children[0]);
        var as = document.querySelectorAll("a");
        for (let i = 0; i < as.length; i++) {
          as[i].onclick = function () {
            ul.removeChild(this.parentNode);
          };
        }
      };
    </script>
  </body>
</html>
